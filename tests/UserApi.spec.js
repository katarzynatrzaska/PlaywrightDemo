import { test, expect } from '@playwright/test';
import { apiCreateUserData } from '../utils/apiCreateUserData.json'
import { pageURL } from '../utils/pageURL.js';
import { apiDeleteUserData } from '../utils/apiDeleteUserData.json';

const postCreateAccountURL = pageURL.postCreateAccountURL;
const getUserURL = pageURL.getUserURL;
const deleteUserURL = pageURL.deleteUserURL;


test('Create user using POST request', async ({ request }) => {
    const response = await request.post(postCreateAccountURL, {
        data: apiCreateUserData
    });
    expect(response.status()).toBe(200);
});

test('Search for a user using GET request', async ({ request }) => {
    const response = await request.get(getUserURL)
    expect(response.status()).toBe(200);
});

test('Delete user using DELETE request', async ({ request }) => {
    const response = await request.delete(deleteUserURL, {
        data: apiDeleteUserData
    });
    expect(response.status()).toBe(200);
});